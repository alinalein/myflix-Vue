(function(){"use strict";var e={2313:function(e,n,r){var t=r(5130),o=r(6768),u=(r(4114),r(4232)),a=r(144),i=r(1387),s=r(8542),l={class:"search"},c=(0,o.pM)({__name:"MovieSearch",setup:function(e){var n=this,r=(0,a.KR)(""),u=(0,i.rd)(),c=(0,i.lq)(),v=function(){return(0,s.sH)(n,void 0,Promise,function(){var e,n;return(0,s.YH)(this,function(t){switch(t.label){case 0:return e="HomePage"===c.name,n=e?u.replace:u.push,[4,n({name:"HomePage",query:{q:r.value}})];case 1:return t.sent(),[2]}})})},d=function(){return(0,s.sH)(n,void 0,void 0,function(){var e;return(0,s.YH)(this,function(n){switch(n.label){case 0:return"HomePage"===c.name?[3,2]:(r.value="",e=(0,s.Cl)({},c.query),delete e.q,[4,u.replace({name:c.name,query:e})]);case 1:n.sent(),n.label=2;case 2:return[2]}})})};return(0,o.wB)(function(){return c.name},function(e,n){e!==n&&"HomePage"!==e&&d()}),function(e,n){return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=function(e){return r.value=e}),onKeyup:v,placeholder:"Search for movies..."},null,544),[[t.Jo,r.value]])])}}});const v=c;var d=v,f={class:"nav"},p={class:"dropdown"},m={class:"dropdown-content"},h=["onClick"],k=(0,o.pM)({__name:"AppNavigation",setup:function(e){var n=(0,a.KR)(!!localStorage.getItem("user")),r=(0,a.KR)(!1),t=(0,a.KR)(["Action","Biography","Crime","Drama","Sci-Fi"]),s=(0,i.lq)(),l=(0,i.rd)();(0,o.wB)(function(){return s.fullPath},function(){n.value=!!localStorage.getItem("user")});var c=function(){r.value=!r.value},v=function(e){l.push({name:"GenrePage",params:{genre:e}}),r.value=!1},k=function(){localStorage.removeItem("user"),localStorage.removeItem("token"),n.value=!1,l.push({name:"LogIn"}),r.value=!1};return function(e,a){var i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",f,[a[6]||(a[6]=(0,o.Lk)("p",null,"myFlix",-1)),(0,o.Lk)("button",{class:"hamburger-menu",onClick:c}," ☰ "),(0,o.Lk)("div",{class:(0,u.C4)(["nav-links",{active:r.value}])},[n.value?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.bF)(i,{to:"/"},{default:(0,o.k6)(function(){return a[2]||(a[2]=[(0,o.eW)("Home",-1)])}),_:1,__:[2]}),(0,o.Lk)("div",p,[a[3]||(a[3]=(0,o.Lk)("div",{class:"dropdown-button"},"Genres ▼",-1)),(0,o.Lk)("div",m,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.value,function(e){return(0,o.uX)(),(0,o.CE)("a",{key:e,onClick:function(n){return v(e)}},(0,u.v_)(e),9,h)}),128))])]),(0,o.bF)(i,{to:"/fav-movies"},{default:(0,o.k6)(function(){return a[4]||(a[4]=[(0,o.eW)("My List",-1)])}),_:1,__:[4]}),(0,o.bF)(d),(0,o.bF)(i,{to:"/profile"},{default:(0,o.k6)(function(){return a[5]||(a[5]=[(0,o.eW)("My Profile",-1)])}),_:1,__:[5]}),(0,o.Lk)("a",{onClick:k},"Log Out")],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.bF)(i,{to:"/log-in"},{default:(0,o.k6)(function(){return a[0]||(a[0]=[(0,o.eW)("Login",-1)])}),_:1,__:[0]}),(0,o.bF)(i,{to:"/sign-up"},{default:(0,o.k6)(function(){return a[1]||(a[1]=[(0,o.eW)("Signup",-1)])}),_:1,__:[1]})],64))],2)])}}});const g=k;var b=g,y=(0,o.pM)({__name:"App",setup:function(e){return function(e,n){var r=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(b),(0,o.bF)(r)],64)}}});const _=y;var L=_,w=(r(8111),r(2489),{key:0,class:"movie-details"}),C={class:"details_close"},H=["src","alt"],P={class:"details_details"},E=(0,o.pM)({__name:"MovieDetails",props:{movie:{}},setup:function(e){var n=e;return function(e,r){return e.movie?((0,o.uX)(),(0,o.CE)("div",w,[(0,o.Lk)("div",C,[(0,o.Lk)("h1",null,(0,u.v_)(n.movie.Title),1),(0,o.Lk)("button",{onClick:r[0]||(r[0]=function(n){return e.$emit("close")})},"X")]),(0,o.Lk)("img",{src:n.movie.ImagePath,alt:n.movie.Title,class:"movie-details__img"},null,8,H),(0,o.Lk)("div",P,[(0,o.Lk)("p",null,[r[1]||(r[1]=(0,o.Lk)("strong",null,"Director:",-1)),(0,o.eW)(" "+(0,u.v_)(n.movie.Director.Name),1)]),(0,o.Lk)("p",null,[r[2]||(r[2]=(0,o.Lk)("strong",null,"Description:",-1)),(0,o.eW)(" "+(0,u.v_)(e.movie.Description),1)]),(0,o.Lk)("p",null,[r[3]||(r[3]=(0,o.Lk)("strong",null,"Genre:",-1)),(0,o.eW)(" "+(0,u.v_)(n.movie.Genre.Name),1)]),(0,o.Lk)("p",null,[r[4]||(r[4]=(0,o.Lk)("strong",null,"Actors:",-1)),(0,o.eW)(" "+(0,u.v_)(n.movie.Actors.join(", ")),1)])])])):(0,o.Q3)("",!0)}}});const U=E;var S=U,A=r(4373),K="https://my-flix-api-267292098478.europe-north1.run.app",F=function(){var e=localStorage.getItem("user");if(!e)return null;try{return JSON.parse(e)}catch(n){return console.error("Failed to parse user from localStorage:",n),null}},x=function(){return localStorage.getItem("token")},X=function(e){return(0,s.sH)(void 0,void 0,void 0,function(){var n,r,t,o,u,a;return(0,s.YH)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n=F(),r=x(),n&&r?[4,A.A.put("".concat(K,"/users/").concat(n.Username,"/movies/add/").concat(e),{},{headers:{Authorization:"Bearer ".concat(r)}})]:[2];case 1:return t=i.sent(),200===t.status&&(o=(0,s.Cl)((0,s.Cl)({},n),t.data.updatedUser),localStorage.setItem("user",JSON.stringify(o)),alert("movie added to favorites")),[3,3];case 2:return u=i.sent(),A.A.isAxiosError(u)?console.error("occured error:",(null===(a=u.response)||void 0===a?void 0:a.data)||u.message):console.error("Unknown error occured:",u),alert("movie could not be added"),[3,3];case 3:return[2]}})})},M=function(e){return(0,s.sH)(void 0,void 0,void 0,function(){var n,r,t,o,u,a;return(0,s.YH)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n=F(),r=x(),n&&r?[4,A.A.delete("".concat(K,"/users/").concat(n.Username,"/movies/remove/").concat(e),{headers:{Authorization:"Bearer ".concat(r)}})]:[2];case 1:return t=i.sent(),200===t.status&&(o=(0,s.Cl)((0,s.Cl)({},n),t.data.updatedUser),localStorage.setItem("user",JSON.stringify(o)),alert("the movie was deleted from the favs")),[3,3];case 2:return u=i.sent(),A.A.isAxiosError(u)?console.error("Error occurred:",(null===(a=u.response)||void 0===a?void 0:a.data)||u.message):console.error("Unknown error:",u),alert("Movie could not be deleted"),[3,3];case 3:return[2]}})})},I=function(){return(0,s.sH)(void 0,void 0,Promise,function(){var e,n,r,t;return(0,s.YH)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),e=x(),e?[4,A.A.get("".concat(K,"/movies"),{headers:{Authorization:"Bearer ".concat(e)}})]:[2];case 1:return n=o.sent(),200===n.status?[2,n.data]:[3,3];case 2:return r=o.sent(),A.A.isAxiosError(r)?console.error("Error fetching movies:",(null===(t=r.response)||void 0===t?void 0:t.data)||r.message):console.error("Unknown error:",r),alert("An error occurred while fetching the movies."),[3,3];case 3:return[2]}})})};function R(e,n){return n.includes(e)}function Y(e,n){return(0,s.sH)(this,void 0,Promise,function(){var r;return(0,s.YH)(this,function(t){switch(t.label){case 0:return[4,X(e)];case 1:return t.sent(),r=F(),r&&(n.value=r.FavoriteMovies),[2]}})})}function q(e,n){return(0,s.sH)(this,void 0,Promise,function(){var r;return(0,s.YH)(this,function(t){switch(t.label){case 0:return[4,M(e)];case 1:return t.sent(),r=F(),r&&(n.value=r.FavoriteMovies),[2]}})})}var B={key:0,class:"movies_div movies_view"},O=["src","alt"],T={class:"movie_buttons_div"},V=["onClick"],W=["onClick"],D=["onClick"],J={key:1,class:"movies_view no_result"},j=(0,o.pM)({__name:"HomePage",setup:function(e){var n=this,r=(0,a.KR)([]),t=(0,a.KR)([]),l=(0,a.KR)([]),c=(0,a.KR)(!0),v=(0,a.KR)(null),d=(0,i.lq)(),f=(0,i.rd)(),p=function(e){return(0,s.sH)(n,void 0,Promise,function(){return(0,s.YH)(this,function(n){switch(n.label){case 0:return[4,Y(e,l)];case 1:return n.sent(),[2]}})})},m=function(e){return(0,s.sH)(n,void 0,Promise,function(){return(0,s.YH)(this,function(n){switch(n.label){case 0:return[4,q(e,l)];case 1:return n.sent(),[2]}})})},h=function(e){v.value=e},k=function(e){return R(e,l.value)},g=function(){return(0,s.sH)(n,void 0,Promise,function(){var e,n;return(0,s.YH)(this,function(o){switch(o.label){case 0:c.value=!0,o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,I()];case 2:return e=o.sent(),e?(r.value=e,t.value=e,[2,e]):[2,null];case 3:return n=o.sent(),console.error("Error fetching movies:",n),[2,null];case 4:return c.value=!1,[7];case 5:return[2]}})})},b=function(e){if(e){var n=e.toLowerCase();t.value=r.value.filter(function(e){return e.Title.toLowerCase().includes(n)})}else t.value=r.value};(0,o.wB)(function(){return d.query.q},function(e){b(e||"")},{immediate:!0}),(0,o.sV)(function(){return(0,s.sH)(n,void 0,Promise,function(){return(0,s.YH)(this,function(e){switch(e.label){case 0:return[4,y()];case 1:return e.sent()?[4,_()]:[2];case 2:return e.sent(),[2]}})})});var y=function(){return(0,s.sH)(n,void 0,Promise,function(){var e,n;return(0,s.YH)(this,function(r){switch(r.label){case 0:return e=F(),n=x(),e&&n?[3,2]:[4,f.push({name:"LogIn"})];case 1:return r.sent(),[2,!1];case 2:return l.value=e.FavoriteMovies||[],[2,!0]}})})},_=function(){return(0,s.sH)(n,void 0,Promise,function(){var e;return(0,s.YH)(this,function(n){switch(n.label){case 0:return[4,g()];case 1:return e=n.sent(),e?(b(d.query.q||""),[2]):(alert("Failed to load movies. Please try again later."),[2])}})})};return function(e,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[t.value.length?((0,o.uX)(),(0,o.CE)("div",B,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.value,function(e){return(0,o.uX)(),(0,o.CE)("div",{class:"movie-card",key:e._id},[(0,o.Lk)("img",{class:"movie-card__img",src:e.ImagePath,alt:e.Title},null,8,O),(0,o.Lk)("p",null,(0,u.v_)(e.Title),1),(0,o.Lk)("div",T,[(0,o.Lk)("button",{class:"show_button",onClick:function(n){return h(e)}}," Show Details ",8,V),k(e._id)?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"fav_button",onClick:function(n){return m(e._id)}},n[1]||(n[1]=[(0,o.Lk)("i",{class:"fas fa-heart",style:{color:"rgb(229, 9, 20)"}},null,-1)]),8,W)):(0,o.Q3)("",!0),k(e._id)?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",{key:1,class:"fav_button",onClick:function(n){return p(e._id)}},n[2]||(n[2]=[(0,o.Lk)("i",{class:"far fa-heart",style:{color:"rgb(229, 9, 20)"}},null,-1)]),8,D))])])}),128))])):t.value.length||c.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",J,n[3]||(n[3]=[(0,o.Lk)("p",{style:{color:"white"}},"No results found.",-1)]))),v.value?((0,o.uX)(),(0,o.Wv)(S,{key:2,movie:v.value,onClose:n[0]||(n[0]=function(e){return v.value=null})},null,8,["movie"])):(0,o.Q3)("",!0)],64)}}});const N=j;var Q=N,G={class:"background"},z=(0,o.pM)({__name:"LogIn",setup:function(e){var n=this,r=(0,a.KR)(""),u=(0,a.KR)(""),l=(0,i.rd)(),c=function(){return(0,s.sH)(n,void 0,Promise,function(){var e,n,t;return(0,s.YH)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,A.A.post("".concat(K,"/users/login"),{Username:r.value,Password:u.value},{headers:{"Content-Type":"application/json"}})];case 1:return e=o.sent(),201===e.status&&(localStorage.setItem("user",JSON.stringify(e.data.user)),localStorage.setItem("token",e.data.token),l.push({name:"HomePage"})),[3,3];case 2:return n=o.sent(),A.A.isAxiosError(n)&&n.response?400===n.response.status?alert("Could not sign in, please check your login credentials"):(console.error("Login error:",(null===(t=n.response)||void 0===t?void 0:t.data)||n.message),alert("Unexpected error")):(console.error("Unknown login error:",n),alert("Unexpected error")),[3,3];case 3:return[2]}})})};return(0,o.sV)(function(){return(0,s.sH)(n,void 0,Promise,function(){var e,n;return(0,s.YH)(this,function(r){return e=F(),n=x(),e&&n&&l.push({name:"HomePage"}),[2]})})}),function(e,n){var a=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",G,[(0,o.Lk)("div",null,[n[7]||(n[7]=(0,o.Lk)("h1",null,"Login",-1)),(0,o.Lk)("form",{onSubmit:(0,t.D$)(c,["prevent"]),class:"logIn"},[n[2]||(n[2]=(0,o.Lk)("label",null,"Username:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=function(e){return r.value=e}),placeholder:"Username",required:""},null,512),[[t.Jo,r.value]]),n[3]||(n[3]=(0,o.Lk)("label",null,"Password:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":n[1]||(n[1]=function(e){return u.value=e}),placeholder:"Password",required:""},null,512),[[t.Jo,u.value]]),n[4]||(n[4]=(0,o.Lk)("button",{type:"submit"},"Login",-1))],32),(0,o.Lk)("p",null,[n[6]||(n[6]=(0,o.eW)(" New to myFlix? ",-1)),(0,o.bF)(a,{class:"redirect_link",to:"/sign-up"},{default:(0,o.k6)(function(){return n[5]||(n[5]=[(0,o.eW)("Signup",-1)])}),_:1,__:[5]})])])])}}});const $=z;var Z=$,ee={class:"update_div"},ne={class:"update_form"},re=(0,o.pM)({__name:"UserProfile",setup:function(e){var n=this,r=(0,a.KR)(""),u=(0,a.KR)(""),l=(0,a.KR)(""),c=(0,i.rd)(),v=function(e){if(!e)return"";var n=new Date(e).toISOString().split("T")[0];return n},d=function(){return(0,s.sH)(n,void 0,Promise,function(){var e,n,t,o,a,i,c,d,f,p;return(0,s.YH)(this,function(m){switch(m.label){case 0:if(e=confirm("Are you sure you want to change your details?"),!e)return[2];n=v(l.value),m.label=1;case 1:return m.trys.push([1,3,,4]),t=F(),o=x(),t&&o?[4,A.A.put("".concat(K,"/users/update/").concat(t.Username),{Username:r.value,Email:u.value,Birthday:n},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)}})]:[2];case 2:return a=m.sent(),200===a.status&&(i=(0,s.Cl)((0,s.Cl)({},t),a.data),localStorage.setItem("user",JSON.stringify(i)),r.value=i.Username,u.value=i.Email,l.value=v(i.Birthday),alert("Profile updated successfully!")),[3,4];case 3:return c=m.sent(),A.A.isAxiosError(c)?400===(null===(d=c.response)||void 0===d?void 0:d.status)?alert("Permission denied"):409===(null===(f=c.response)||void 0===f?void 0:f.status)?alert("".concat(r.value," already exists, please pick another Username.")):(console.error("Error updating profile:",(null===(p=c.response)||void 0===p?void 0:p.data)||c.message),alert("An unexpected error occurred. Please try again.")):(console.error("Unknown error:",c),alert("An unexpected error occurred. Please try again.")),[3,4];case 4:return[2]}})})},f=function(){return(0,s.sH)(n,void 0,Promise,function(){var e,n,r,t,o,u;return(0,s.YH)(this,function(a){switch(a.label){case 0:if(e=confirm("Are you sure you want to delete your profile? This action cannot be undone."),!e)return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),n=F(),r=x(),n&&r?[4,A.A.delete("".concat(K,"/users/deregister/").concat(n.Username),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}})]:[2];case 2:return t=a.sent(),200===t.status&&(localStorage.removeItem("user"),localStorage.removeItem("token"),c.push({name:"SignUp"})),[3,4];case 3:return o=a.sent(),A.A.isAxiosError(o)?(console.error("Error deleting profile:",(null===(u=o.response)||void 0===u?void 0:u.data)||o.message),alert("Profile could not be deleted")):(console.error("Unknown error:",o),alert("An unexpected error occurred. Please try again.")),[3,4];case 4:return[2]}})})};return(0,o.sV)(function(){return(0,s.sH)(n,void 0,Promise,function(){var e;return(0,s.YH)(this,function(n){try{e=F(),e&&(l.value=v(e.Birthday),r.value=e.Username,u.value=e.Email)}catch(t){console.error("Failed to parse user from localStorage:",t)}return[2]})})}),function(e,n){return(0,o.uX)(),(0,o.CE)("div",ee,[(0,o.Lk)("div",ne,[n[7]||(n[7]=(0,o.Lk)("h1",null,"My Profile Details",-1)),(0,o.Lk)("form",{onSubmit:(0,t.D$)(d,["prevent"]),class:"signUp"},[n[3]||(n[3]=(0,o.Lk)("label",{for:"username"},"Username",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","data-testid":"username-input","onUpdate:modelValue":n[0]||(n[0]=function(e){return r.value=e}),placeholder:"Username",required:""},null,512),[[t.Jo,r.value]]),n[4]||(n[4]=(0,o.Lk)("label",{for:"username"},"E-Mail",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","data-testid":"email-input","onUpdate:modelValue":n[1]||(n[1]=function(e){return u.value=e}),placeholder:"E-Mail",required:""},null,512),[[t.Jo,u.value]]),n[5]||(n[5]=(0,o.Lk)("label",{for:"Birthday"},"Birthday",-1)),(0,o.bo)((0,o.Lk)("input",{placeholder:"Birthday","data-testid":"birthday-input",type:"date","onUpdate:modelValue":n[2]||(n[2]=function(e){return l.value=e}),required:""},null,512),[[t.Jo,l.value]]),n[6]||(n[6]=(0,o.Lk)("button",{type:"submit","data-testid":"update-profile"}," Update Profile ",-1))],32),(0,o.Lk)("button",{type:"button",class:"delete_profile","data-testid":"delete-profile",onClick:f,style:{"margin-top":"20px"}}," Delete Profile ")])])}}});const te=re;var oe=te,ue={class:"movies_view"},ae={class:"movies_div"},ie=["src","alt"],se={class:"movie_buttons_div"},le=["onClick"],ce=["onClick"],ve=(0,o.pM)({__name:"FavMovies",setup:function(e){var n=this,r=(0,a.KR)([]),t=(0,a.KR)([]),i=(0,a.KR)(null),l=function(){return(0,s.sH)(n,void 0,Promise,function(){var e,n;return(0,s.YH)(this,function(o){switch(o.label){case 0:return[4,I()];case 1:return e=o.sent(),e?(r.value=e,n=F(),n&&(t.value=r.value.filter(function(e){return n.FavoriteMovies.includes(e._id)})),[2]):[2]}})})},c=function(e){return(0,s.sH)(n,void 0,Promise,function(){var n;return(0,s.YH)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,M(e)];case 1:return r.sent(),t.value=t.value.filter(function(n){return n._id!==e}),[3,3];case 2:return n=r.sent(),n instanceof Error?console.error("Error deleting movie:",n.message):console.error("Unknown error deleting movie:",n),[3,3];case 3:return[2]}})})},v=function(e){i.value=e};return(0,o.sV)(function(){return(0,s.sH)(n,void 0,Promise,function(){return(0,s.YH)(this,function(e){switch(e.label){case 0:return[4,l()];case 1:return e.sent(),[2]}})})}),function(e,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",ue,[n[2]||(n[2]=(0,o.Lk)("h1",{class:"fav_title"},"My Favorite Movies",-1)),(0,o.Lk)("div",ae,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.value,function(e){return(0,o.uX)(),(0,o.CE)("div",{class:"movie-card",key:e._id},[(0,o.Lk)("img",{class:"movie-card__img",src:e.ImagePath,alt:e.Title},null,8,ie),(0,o.Lk)("p",null,(0,u.v_)(e.Title),1),(0,o.Lk)("div",se,[(0,o.Lk)("button",{class:"show_button",onClick:function(n){return v(e)}}," Show Details ",8,le),(0,o.Lk)("button",{class:"fav_button",onClick:function(n){return c(e._id)}},n[1]||(n[1]=[(0,o.Lk)("i",{class:"fas fa-heart",style:{color:"rgb(229, 9, 20)"}},null,-1)]),8,ce)])])}),128))])]),i.value?((0,o.uX)(),(0,o.Wv)(S,{key:0,movie:i.value,onClose:n[0]||(n[0]=function(e){return i.value=null})},null,8,["movie"])):(0,o.Q3)("",!0)],64)}}});const de=ve;var fe=de,pe={class:"movies_view"},me={class:"genre_title"},he={key:0,class:"movies_div"},ke=["src","alt"],ge={class:"movie_buttons_div"},be=["onClick"],ye=["onClick"],_e=["onClick"],Le={key:1,class:"movies_view"},we=(0,o.pM)({__name:"GenrePage",setup:function(e){var n=this,r=(0,a.KR)([]),t=(0,a.KR)([]),l=(0,a.KR)([]),c=(0,a.KR)(""),v=(0,a.KR)(null),d=(0,i.lq)(),f=function(){t.value=r.value.filter(function(e){var n;return(null===(n=e.Genre)||void 0===n?void 0:n.Name)===c.value})};(0,o.wB)(function(){return d.params.genre},function(e){c.value=e,f()});var p=function(e){return(0,s.sH)(n,void 0,Promise,function(){return(0,s.YH)(this,function(n){switch(n.label){case 0:return[4,Y(e,l)];case 1:return n.sent(),[2]}})})},m=function(e){return(0,s.sH)(n,void 0,Promise,function(){return(0,s.YH)(this,function(n){switch(n.label){case 0:return[4,q(e,l)];case 1:return n.sent(),[2]}})})},h=function(e){return R(e,l.value)},k=function(e){v.value=e};return(0,o.sV)(function(){return(0,s.sH)(n,void 0,Promise,function(){var e,n,t;return(0,s.YH)(this,function(o){switch(o.label){case 0:return[4,I()];case 1:return e=o.sent(),e&&(r.value=e),n=d.params.genre,c.value=Array.isArray(n)?n[0]:n||"",f(),t=F(),t&&(l.value=t.FavoriteMovies||[]),[2]}})})}),function(e,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",pe,[(0,o.Lk)("h1",me,(0,u.v_)(c.value)+" Movies",1),t.value.length?((0,o.uX)(),(0,o.CE)("div",he,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.value,function(e){return(0,o.uX)(),(0,o.CE)("div",{class:"movie-card",key:e._id},[(0,o.Lk)("img",{class:"movie-card__img",src:e.ImagePath,alt:e.Title},null,8,ke),(0,o.Lk)("p",null,(0,u.v_)(e.Title),1),(0,o.Lk)("div",ge,[(0,o.Lk)("button",{class:"show_button",onClick:function(n){return k(e)}}," Show Details ",8,be),h(e._id)?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"fav_button",onClick:function(n){return m(e._id)}},n[1]||(n[1]=[(0,o.Lk)("i",{class:"fas fa-heart",style:{color:"rgb(229, 9, 20)"}},null,-1)]),8,ye)):(0,o.Q3)("",!0),h(e._id)?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",{key:1,class:"fav_button",onClick:function(n){return p(e._id)}},n[2]||(n[2]=[(0,o.Lk)("i",{class:"far fa-heart",style:{color:"rgb(229, 9, 20)"}},null,-1)]),8,_e))])])}),128))])):((0,o.uX)(),(0,o.CE)("div",Le,n[3]||(n[3]=[(0,o.Lk)("p",null,"No movies found for this genre.",-1)])))]),v.value?((0,o.uX)(),(0,o.Wv)(S,{key:0,movie:v.value,onClose:n[0]||(n[0]=function(e){return v.value=null})},null,8,["movie"])):(0,o.Q3)("",!0)],64)}}});const Ce=we;var He=Ce,Pe={class:"background"},Ee=(0,o.pM)({__name:"SignUp",setup:function(e){var n=this,r=(0,a.KR)(""),u=(0,a.KR)(""),l=(0,a.KR)(""),c=(0,a.KR)(""),v=(0,i.rd)(),d=function(){return(0,s.sH)(n,void 0,Promise,function(){var e,n;return(0,s.YH)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,A.A.post("".concat(K,"/users/signup"),{Username:r.value,Email:l.value,Birthday:u.value,Password:c.value},{headers:{"Content-Type":"application/json"}})];case 1:return e=t.sent(),201===e.status&&(v.push({name:"LogIn"}),alert("Successfully created the user profile")),[3,3];case 2:return n=t.sent(),A.A.isAxiosError(n)&&n.response?400===n.response.status?alert("Could not sign up, please fill out all fields accordingly"):409===n.response.status?alert("username already exist, please pick another one"):alert("Unexpected error"):alert("Unexpected error"),[3,3];case 3:return[2]}})})};return(0,o.sV)(function(){return(0,s.sH)(n,void 0,Promise,function(){var e,n;return(0,s.YH)(this,function(r){return e=F(),n=x(),e&&n&&v.push({name:"HomePage"}),[2]})})}),function(e,n){var a=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",Pe,[(0,o.Lk)("div",null,[n[11]||(n[11]=(0,o.Lk)("h1",null,"Signup",-1)),(0,o.Lk)("form",{onSubmit:(0,t.D$)(d,["prevent"]),class:"signUp"},[n[4]||(n[4]=(0,o.Lk)("label",null,"Username, please choose at least 5 characters:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=function(e){return r.value=e}),placeholder:"Enter Username",required:"","data-testid":"username"},null,512),[[t.Jo,r.value]]),n[5]||(n[5]=(0,o.Lk)("label",null,"Email, please choose at least 8 characters:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":n[1]||(n[1]=function(e){return l.value=e}),placeholder:"Enter Email",required:"","data-testid":"email"},null,512),[[t.Jo,l.value]]),n[6]||(n[6]=(0,o.Lk)("label",null,"Birthday:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"date","onUpdate:modelValue":n[2]||(n[2]=function(e){return u.value=e}),placeholder:"Enter Birthday",required:"","data-testid":"birthday"},null,512),[[t.Jo,u.value]]),n[7]||(n[7]=(0,o.Lk)("label",null,"Password:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":n[3]||(n[3]=function(e){return c.value=e}),placeholder:"Enter Password",required:"","data-testid":"password"},null,512),[[t.Jo,c.value]]),n[8]||(n[8]=(0,o.Lk)("button",{type:"submit","data-testid":"submit"},"Signup",-1))],32),(0,o.Lk)("p",null,[n[10]||(n[10]=(0,o.eW)(" Have an account? ",-1)),(0,o.bF)(a,{class:"redirect_link",to:"/log-in"},{default:(0,o.k6)(function(){return n[9]||(n[9]=[(0,o.eW)("Login",-1)])}),_:1,__:[9]})])])])}}});const Ue=Ee;var Se=Ue,Ae=[{name:"HomePage",component:Q,path:"/"},{name:"SignUp",component:Se,path:"/sign-up"},{name:"LogIn",component:Z,path:"/log-in"},{name:"UserProfile",component:oe,path:"/profile"},{name:"GenrePage",component:He,path:"/genre/:genre"},{name:"FavMovies",component:fe,path:"/fav-movies"}],Ke=(0,i.aE)({history:(0,i.Bt)(),routes:Ae}),Fe=Ke;(0,t.Ef)(L).use(Fe).mount("#app")}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var u=n[t]={exports:{}};return e[t].call(u.exports,u,u.exports,r),u.exports}r.m=e,function(){var e=[];r.O=function(n,t,o,u){if(!t){var a=1/0;for(c=0;c<e.length;c++){t=e[c][0],o=e[c][1],u=e[c][2];for(var i=!0,s=0;s<t.length;s++)(!1&u||a>=u)&&Object.keys(r.O).every(function(e){return r.O[e](t[s])})?t.splice(s--,1):(i=!1,u<a&&(a=u));if(i){e.splice(c--,1);var l=o();void 0!==l&&(n=l)}}return n}u=u||0;for(var c=e.length;c>0&&e[c-1][2]>u;c--)e[c]=e[c-1];e[c]=[t,o,u]}}(),function(){r.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(n,{a:n}),n}}(),function(){r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};r.O.j=function(n){return 0===e[n]};var n=function(n,t){var o,u,a=t[0],i=t[1],s=t[2],l=0;if(a.some(function(n){return 0!==e[n]})){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(s)var c=s(r)}for(n&&n(t);l<a.length;l++)u=a[l],r.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return r.O(c)},t=self["webpackChunkmyflix_vue"]=self["webpackChunkmyflix_vue"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=r.O(void 0,[504],function(){return r(2313)});t=r.O(t)})();
//# sourceMappingURL=app.1b32b615.js.map